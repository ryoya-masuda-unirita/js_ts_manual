# Angular開発のための JavaScript/TypeScript マニュアル

## はじめに

このマニュアルは、Angular開発に必要なJavaScriptとTypeScriptの知識を体系的に学ぶためのガイドです。
プログラミング初心者の方でも理解できるよう、基礎から丁寧に解説していきます。

### このマニュアルの使い方

1. **段階的な学習**: 
   - 各パートは基礎から応用へと段階的に構成されています
   - 必要な部分から読み進めることができます
   - コードサンプルを実際に試しながら学習することを推奨します

2. **環境準備**:
   - Part 1 で開発環境のセットアップを行います
   - 実際に手を動かしながら学習することで、より深い理解が得られます

3. **トラブルシューティング**:
   - 各セクションには「よくある問題と解決方法」が含まれています
   - エラーが発生した場合は、該当するセクションを参照してください

### 前提知識

このマニュアルを効果的に活用するために、以下の知識があると望ましいです：

- PCの基本的な操作ができること
- HTML/CSSの基礎的な知識
- テキストエディタ（Visual Studio Codeなど）の基本的な使い方

前提知識が不足している場合でも、丁寧に解説していきますので、焦らず順を追って学習してください。

## 目次

- [Part 1: 開発環境とツール（初めの一歩）](#part-1-開発環境とツール初めの一歩)
  - [1. Node.jsの導入と基礎知識](#1-nodejsの導入と基礎知識)
    - [1.1. Node.jsとは](#11-nodejsとは)
    - [1.2. インストールと設定](#12-インストールと設定)
    - [1.3. バージョン管理（nvm）](#13-バージョン管理nvm)
  - [2. Angular CLIの導入](#2-angular-cliの導入)
    - [2.1. Angular CLIの概要](#21-angular-cliの概要)
    - [2.2. 基本的なコマンド](#22-基本的なコマンド)
    - [2.3. プロジェクト設定](#23-プロジェクト設定)
  - [3. Visual Studio Codeの設定](#3-visual-studio-codeの設定)
    - [3.1. 基本設定](#31-基本設定)
    - [3.2. 開発支援機能](#32-開発支援機能)
    - [3.3. Angular開発用の拡張機能](#33-angular開発用の拡張機能)
  - [4. npmパッケージ管理](#4-npmパッケージ管理)
    - [4.1. package.jsonの理解](#41-packagejsonの理解)
    - [4.2. パッケージのインストールと更新](#42-パッケージのインストールと更新)
    - [4.3. よく使うnpmコマンド](#43-よく使うnpmコマンド)
  - [5. プロジェクト構造とワークフロー](#5-プロジェクト構造とワークフロー)
    - [5.1. ディレクトリ構造](#51-ディレクトリ構造)
    - [5.2. 開発ワークフロー](#52-開発ワークフロー)
    - [5.3. 設定ファイルの役割](#53-設定ファイルの役割)

- [Part 2: JavaScript基礎（Angular開発の文脈で）](#part-2-javascript基礎angular開発の文脈で)
  - [1. 変数とデータ型](#1-変数とデータ型)
    - [1.1. 変数の基本概念](#11-変数の基本概念)
    - [1.2. 変数宣言の種類](#12-変数宣言の種類)
    - [1.3. プリミティブ型](#13-プリミティブ型)
    - [1.4. 参照型](#14-参照型)
    - [1.5. テンプレート文字列](#15-テンプレート文字列)
    - [1.6. 型変換](#16-型変換)
  - [2. 演算子と制御構文](#2-演算子と制御構文)
    - [2.1. 演算子](#21-演算子)
    - [2.2. 条件分岐](#22-条件分岐)
    - [2.3. ループ処理](#23-ループ処理)
    - [2.4. 制御フロー](#24-制御フロー)
  - [3. 関数](#3-関数)
    - [3.1. 関数の基本](#31-関数の基本)
    - [3.2. パラメータ](#32-パラメータ)
    - [3.3. スコープとコンテキスト](#33-スコープとコンテキスト)
    - [3.4. クロージャ](#34-クロージャ)
    - [3.5. 高階関数](#35-高階関数)
  - [4. オブジェクトと配列](#4-オブジェクトと配列)
    - [4.1. オブジェクトの基本](#41-オブジェクトの基本)
    - [4.2. オブジェクトの操作](#42-オブジェクトの操作)
    - [4.3. 配列の基本](#43-配列の基本)
    - [4.4. 配列メソッド](#44-配列メソッド)
    - [4.5. 分割代入](#45-分割代入)
    - [4.6. スプレッド構文](#46-スプレッド構文)
  - [5. 非同期処理](#5-非同期処理)
    - [5.1. 非同期処理の基本](#51-非同期処理の基本)
    - [5.2. Promise](#52-promise)
    - [5.3. async/await](#53-asyncawait)
    - [5.4. Observable](#54-observable)
  - [6. エラーハンドリングとデバッグ](#6-エラーハンドリングとデバッグ)
    - [6.1. 基本的なエラーハンドリング](#61-基本的なエラーハンドリング)
    - [6.2. 非同期エラーハンドリング](#62-非同期エラーハンドリング)
    - [6.3. デバッグ技術](#63-デバッグ技術)

- [Part 3: TypeScript基礎（Angularの文脈で）](#part-3-typescript基礎angularの文脈で)
  - [1. TypeScriptの基本](#1-typescriptの基本)
    - [1.1. TypeScriptの概要](#11-typescriptの概要)
    - [1.2. 開発環境のセットアップ](#12-開発環境のセットアップ)
    - [1.3. 基本的な型定義](#13-基本的な型定義)
  - [2. 型システム](#2-型システム)
    - [2.1. プリミティブ型](#21-プリミティブ型)
    - [2.2. 複合型](#22-複合型)
    - [2.3. 特殊な型](#23-特殊な型)
    - [2.4. 型アサーション](#24-型アサーション)
    - [2.5. 型ガード](#25-型ガード)
  - [3. インターフェースと型エイリアス](#3-インターフェースと型エイリアス)
    - [3.1. インターフェース](#31-インターフェース)
    - [3.2. インターフェースの拡張](#32-インターフェースの拡張)
    - [3.3. 型エイリアス](#33-型エイリアス)
    - [3.4. インデックス型](#34-インデックス型)
  - [4. クラス](#4-クラス)
    - [4.1. クラスの基本](#41-クラスの基本)
    - [4.2. アクセス修飾子](#42-アクセス修飾子)
    - [4.3. 継承と実装](#43-継承と実装)
    - [4.4. staticメンバー](#44-staticメンバー)
    - [4.5. 高度な機能](#45-高度な機能)
  - [5. ジェネリクス](#5-ジェネリクス)
    - [5.1. ジェネリクスの基本](#51-ジェネリクスの基本)
    - [5.2. ジェネリック関数](#52-ジェネリック関数)
    - [5.3. ジェネリッククラス](#53-ジェネリッククラス)
    - [5.4. ユーティリティ型](#54-ユーティリティ型)
  - [6. デコレータ](#6-デコレータ)
    - [6.1. デコレータの基本](#61-デコレータの基本)
    - [6.2. クラスデコレータ](#62-クラスデコレータ)
    - [6.3. プロパティデコレータ](#63-プロパティデコレータ)
    - [6.4. メソッドデコレータ](#64-メソッドデコレータ)

- [Part 4: Angular固有の機能に関連する文法](#part-4-angular固有の機能に関連する文法)
  - [1. モジュールとコンポーネント](#1-モジュールとコンポーネント)
    - [1.1. モジュールの基本](#11-モジュールの基本)
    - [1.2. コンポーネントの基本](#12-コンポーネントの基本)
    - [1.3. ライフサイクルフック](#13-ライフサイクルフック)
  - [2. サービスとDI](#2-サービスとdi)
    - [2.1. サービスの基本](#21-サービスの基本)
    - [2.2. 依存性注入](#22-依存性注入)
    - [2.3. プロバイダー](#23-プロバイダー)
  - [3. テンプレート構文とバインディング](#3-テンプレート構文とバインディング)
    - [3.1. プロパティバインディング](#31-プロパティバインディング)
    - [3.2. イベントバインディング](#32-イベントバインディング)
    - [3.3. 双方向バインディング](#33-双方向バインディング)
  - [4. Observableとストリーム](#4-observableとストリーム)
    - [4.1. RxJSの基本](#41-rxjsの基本)
    - [4.2. オペレータ](#42-オペレータ)
    - [4.3. Subjectの種類](#43-subjectの種類)

- [Part 5: デバッグとトラブルシューティング](#part-5-デバッグとトラブルシューティング)
  - [1. 開発ツールの活用](#1-開発ツールの活用)
    - [1.1. Chrome DevTools](#11-chrome-devtools)
    - [1.2. VS Code デバッガー](#12-vs-code-デバッガー)
    - [1.3. Angular DevTools](#13-angular-devtools)
  - [2. 一般的なエラーパターン](#2-一般的なエラーパターン)
    - [2.1. コンパイルエラー](#21-コンパイルエラー)
    - [2.2. ランタイムエラー](#22-ランタイムエラー)
    - [2.3. 型関連のエラー](#23-型関連のエラー)
    - [2.4. 非同期処理のエラー](#24-非同期処理のエラー)

- [Part 6: テストの基礎](#part-6-テストの基礎)
  - [1. JavaScriptのテスト](#1-javascriptのテスト)
    - [1.1. Jestの基本](#11-jestの基本)
    - [1.2. テストの書き方](#12-テストの書き方)
    - [1.3. モック化とスパイ](#13-モック化とスパイ)
  - [2. TypeScriptでのテスト](#2-typescriptでのテスト)
    - [2.1. 型のテスト](#21-型のテスト)
    - [2.2. インターフェースのモック](#22-インターフェースのモック)
    - [2.3. 非同期テスト](#23-非同期テスト)

- [Part 7: セキュリティの基礎](#part-7-セキュリティの基礎)
  - [1. 一般的な脆弱性](#1-一般的な脆弱性)
    - [1.1. XSS対策](#11-xss対策)
    - [1.2. CSRF対策](#12-csrf対策)
    - [1.3. 入力値検証](#13-入力値検証)
  - [2. TypeScriptによる型安全性](#2-typescriptによる型安全性)
    - [2.1. 型チェックによるセキュリティ](#21-型チェックによるセキュリティ)
    - [2.2. 安全な型定義](#22-安全な型定義)

- [Part 8: パフォーマンス最適化](#part-8-パフォーマンス最適化)
  - [1. JavaScript最適化](#1-javascript最適化)
    - [1.1. メモリ管理](#11-メモリ管理)
    - [1.2. 非同期処理の最適化](#12-非同期処理の最適化)
    - [1.3. バンドルサイズの削減](#13-バンドルサイズの削減)
  - [2. TypeScript最適化](#2-typescript最適化)
    - [2.1. 型定義の最適化](#21-型定義の最適化)
    - [2.2. コンパイラオプション](#22-コンパイラオプション)

- [Part 9: 実践的なユースケース](#part-9-実践的なユースケース)
  - [1. フォーム処理](#1-フォーム処理)
    - [1.1. バリデーション](#11-バリデーション)
    - [1.2. 非同期バリデーション](#12-非同期バリデーション)
    - [1.3. カスタムバリデータ](#13-カスタムバリデータ)
  - [2. HTTP通信](#2-http通信)
    - [2.1. RESTful API](#21-restful-api)
    - [2.2. GraphQL](#22-graphql)
    - [2.3. WebSocket](#23-websocket)
  - [3. 状態管理](#3-状態管理)
    - [3.1. サービスによる状態管理](#31-サービスによる状態管理)
    - [3.2. RxJSによる状態管理](#32-rxjsによる状態管理)

- [Part 10: 開発フロー](#part-10-開発フロー)
  - [1. バージョン管理](#1-バージョン管理)
    - [1.1. Git基礎](#11-git基礎)
    - [1.2. ブランチ戦略](#12-ブランチ戦略)
    - [1.3. コミットメッセージ](#13-コミットメッセージ)
  - [2. CI/CD](#2-cicd)
    - [2.1. ユニットテスト自動化](#21-ユニットテスト自動化)
    - [2.2. ビルド自動化](#22-ビルド自動化)
    - [2.3. デプロイメント](#23-デプロイメント) 

## Part 1: 開発環境とツール（初めの一歩）

### 1. Node.jsの導入と基礎知識

#### 1.1. Node.jsとは

Node.jsは、ChromeのV8 JavaScriptエンジンを基にしたJavaScript実行環境です。
サーバーサイドでJavaScriptを実行できる他、開発ツールの実行環境としても利用されます。

##### なぜNode.jsが必要か

Angular開発において、Node.jsは以下の理由で必要不可欠です：

1. **開発ツールの実行環境**
   - Angular CLIの実行
   - パッケージマネージャ（npm）の利用
   - ビルドツールの実行

2. **開発サーバーの提供**
   - ローカル開発環境の起動
   - ホットリロード機能の提供
   - プロキシ設定の管理

3. **パッケージ管理**
   - 依存パッケージのインストール
   - バージョン管理
   - スクリプトの実行

##### インストール手順

1. **Node.jsのダウンロード**
   ```bash
   # Windowsの場合
   # https://nodejs.org/から直接ダウンロード

   # macOSの場合（Homebrewを使用）
   brew install node

   # Linuxの場合
   sudo apt update
   sudo apt install nodejs npm
   ```

2. **インストールの確認**
   ```bash
   node --version
   npm --version
   ```

3. **推奨バージョン**
   - Node.js: 18.x以上
   - npm: 9.x以上

#### 1.2. バージョン管理（nvm）

Node Version Manager (nvm)は、複数のNode.jsバージョンを管理するためのツールです。

##### nvmのインストール

```bash
# Windowsの場合
# https://github.com/coreybutler/nvm-windowsからインストーラーをダウンロード

# macOS/Linuxの場合
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
```

##### 基本的な使い方

```bash
# 利用可能なNode.jsバージョンの一覧表示
nvm list-remote

# 特定のバージョンをインストール
nvm install 18.16.0

# 使用するバージョンの切り替え
nvm use 18.16.0

# デフォルトのバージョン設定
nvm alias default 18.16.0
```

##### バージョン管理のベストプラクティス

1. **プロジェクトごとのバージョン指定**
   - `.nvmrc`ファイルの作成
   ```bash
   # .nvmrcの内容
   18.16.0
   ```

2. **チーム開発での統一**
   - バージョンの統一による問題の防止
   - CIでのバージョン管理

3. **定期的なアップデート**
   - セキュリティアップデートの適用
   - 新機能の利用

### 2. Angular CLIの導入

#### 2.1. Angular CLIの概要

Angular CLIは、Angularアプリケーションの開発を支援するコマンドラインツールです。

##### 主な機能

1. **プロジェクト作成**
   - 新規プロジェクトの作成
   - 必要なファイルの自動生成
   - 初期設定の自動化

2. **開発支援**
   - コンポーネント、サービスなどの生成
   - 開発サーバーの起動
   - ビルドとデプロイ

##### インストール

```bash
# グローバルインストール
npm install -g @angular/cli

# バージョン確認
ng version
```

#### 2.2. 基本的なコマンド

##### プロジェクト作成

```bash
# 新規プロジェクト作成
ng new my-app

# オプション指定での作成
ng new my-app --routing --style scss
```

##### コンポーネントと機能の生成

```bash
# コンポーネントの生成
ng generate component my-component

# サービスの生成
ng generate service my-service

# その他の生成コマンド
ng generate directive my-directive
ng generate pipe my-pipe
ng generate guard my-guard
```

##### 開発サーバーの起動

```bash
# 開発サーバー起動
ng serve

# ポート指定
ng serve --port 4201

# ホストの指定
ng serve --host 0.0.0.0
``` 